from Nodes.ast_node import ast_node
from json_visitor import json_visitor

class ast_tree():
	def __init__(self, head):
		self.head = head

	def printTree(self):
		self.printTreeAux(self.head,0)

	def printTreeAux(self,node,level):
		print("\t" * level + str(node))
		for el in node.children:
			self.printTreeAux(el,level + 1)
		if node.name == 'If' or node.name == 'While':
			for el in node.elsenodes:
				self.printTreeAux(el,level + 1)

def createTree(astjson):
	visitor = json_visitor()
	if astjson['ast_type'] == 'Module':
		head = visitor.visit_module(astjson['body'])
	ast = ast_tree(head)
	return ast
